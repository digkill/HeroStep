# Инструкция по сборке

## Проблемы устранены:

1. ✅ Удалены старые классы из кэша (`app/build`)
2. ✅ Добавлена защита от зависаний при генерации карты
3. ✅ Оптимизирована инициализация 3D-геометрии (batch size = 4)
4. ✅ Добавлена полная обработка ошибок OpenGL
5. ✅ Исправлены все импорты и пакеты (`org.mediarise.herostep`)

## Как собрать проект:

### В Android Studio:
1. Откройте проект в Android Studio
2. Выберите **Build > Clean Project** (очистка завершена автоматически)
3. Выберите **Build > Rebuild Project**
4. Запустите приложение на устройстве/эмуляторе

### Через командную строку:
Если в проекте нет `gradlew`, используйте установленный Gradle:
```powershell
cd D:\workspace\Android\HeroStep
gradle clean assembleDebug
```

## Что изменилось:

- **GameBoard**: добавлена защита от генерации более 100 клеток (предотвращает зависания)
- **HexGrid3DRenderer**: уменьшен batch size до 4 клеток за кадр (более плавная загрузка)
- **Все файлы**: используют единый пакет `org.mediarise.herostep`

## Ожидаемое поведение:

1. Приложение запускается с заставкой
2. Показывается видео (можно пропустить)
3. Главное меню → Начать игру
4. Выбор расы и героя
5. Игровое поле постепенно прорисовывается (4-15 секунд)
6. После полной загрузки можно управлять камерой свайпами

## Если проблема остается:

Проверьте Logcat на наличие сообщений:
- `GameBoard: Generated X cells successfully` - должно быть ≤ 61 клеток
- `HexGrid3D: Error creating hex cell` - если есть, это указывает на проблему с 3D

